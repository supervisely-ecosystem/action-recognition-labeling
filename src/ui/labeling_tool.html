<sly-card class="custom-sly-card-border-radius"
          style="margin: 5px 0; padding: 16px 25px; padding-bottom: 2px; width: 100%; height: 100%; justify-content: center">
    <sly-field title="Labeling Tool"
               description="add / change / remove tags"
               style="width: 100%"
               class="mt10"
    >

        <div style="font-size: 16px; padding-top: 7px">
            <el-tabs v-model="state.selectedTagMode">
                <el-tab-pane label="FRAME TAGS" name="frames">

                    <div v-if="state.tagsOnFrame.length > 0">

                        <div class="fflex" style="justify-content: space-between; margin-bottom: 14px; width: 100%">
                            <div class="fflex" style="justify-content: center; flex-direction: column">

                                <el-button type="primary"
                                           size="small"
                                           class="regular"
                                           :disabled="state.lastAnnotatedFrame == null"
                                           style="width: 140px; margin: 2px 0"
                                           :loading="state.buttonsLoading['copyValuesFromPreview']"
                                           @click="state.buttonsLoading['copyValuesFromPreview']=true; command('copy_from_preview');">
                                    <i class="zmdi zmdi-redo mr5" style="color: white"></i> FROM PREV
                                </el-button>
                            </div>
                            <div class="fflex" style="justify-content: center; flex-direction: column">

                                <el-button type="danger"
                                           size="small"
                                           class="regular"
                                           style="width: 140px; margin: 2px 0"
                                           :loading="state.buttonsLoading['cleanAllValues']"
                                           @click="state.buttonsLoading['cleanAllValues']=true; command('clean_values');">

                                    <i class="zmdi zmdi-label-alt-outline mr5" style="color: white"></i> CLEAN ALL
                                </el-button>
                            </div>
                        </div>
                        {{state.lastAnnotatedFrame}}

                        <div v-for="current_tag in state.tagsOnFrame">
                            <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between">
                            <span style="overflow-x: hidden; white-space: nowrap; text-overflow: ellipsis; font-size: 13px">
                                <i class="zmdi zmdi-circle mr5" :style="{color: current_tag.color}"></i> {{current_tag.name}}
                            </span>
                                <el-select v-model="current_tag.selected_value"
                                           size="small"
                                           clearable
                                           placeholder="not selected"
                                           @change="state.updatedTag=current_tag; command('frame_tag_updated')">
                                    <el-option
                                            v-for="current_key in current_tag.available_values"
                                            :label="current_key"
                                            :value="current_key">
                                    </el-option>
                                </el-select>
                            </div>

                            <hr v-if="current_tag != state.tagsOnFrame[state.tagsOnFrame.length - 1]"
                                style="border: 0; margin: 6px 0; border-top: 2px dashed rgba(0,0,0,.12);"/>

                        </div>
                    </div>
                    <div v-else>
                        <sly-field v-else
                                   title="INFO: Tags List is Empty"
                                   description="there is no tags available"
                                   style="margin-bottom: 0"
                        >
                            <sly-icon slot="icon" :options="{ color: '#4c9ef8', bgColor: '#e3f0ff', rounded: false }">
                                <i class="zmdi zmdi-info"></I>
                            </sly-icon>
                        </sly-field>

                    </div>
                </el-tab-pane>
                <el-tab-pane label="VIDEO TAGS" name="videos">
                    <div v-for="current_tag in state.tagsOnVideo">
                        {{current_tag}}
                    </div>
                </el-tab-pane>
            </el-tabs>

        </div>
    </sly-field>
</sly-card>

